<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crime Prediction & Safe Path System</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
</head>
<body>

    <div class="container" id="landing-page">
        <h1>Crime Prediction & Safe Path System</h1>
        <button onclick="showPage('login-page')">Login</button>
        <button onclick="showPage('register-page')">Create Account</button>
    </div>

    <div class="container hidden" id="login-page">
        <h2>Login</h2>
        <input type="text" id="login-username" placeholder="Enter Username">
        <input type="password" id="login-password" placeholder="Enter Password">
        <button onclick="login()">Login</button>
        <p>New User? <a href="#" onclick="showPage('register-page')">Create an account</a></p>
    </div>

    <div class="container hidden" id="register-page">
        <h2>Create Account</h2>
        <input type="text" id="reg-username" placeholder="Enter Username">
        <input type="password" id="reg-password" placeholder="Enter Password">
        <button onclick="register()">Register</button>
        <p>Already registered? <a href="#" onclick="showPage('login-page')">Login here</a></p>
    </div>

    <div class="container hidden" id="main-page">
        <h2>Dashboard</h2>
        <div class="tabs">
            <button onclick="showTab('crime-prediction')">Crime Prediction</button>
            <button onclick="showTab('safe-path')">Safe Path Recommendation</button>
        </div>

        <div id="crime-prediction" class="tab-content">
            <h3>Crime Prediction</h3>
            <p>Enter your State and District to predict total IPC crimes</p>
            <input type="text" id="prediction-state" placeholder="Enter State">
            <input type="text" id="prediction-district" placeholder="Enter District">
            <button onclick="processPrediction()">Predict Crime</button>
            <p id="prediction-output"></p>
        </div>

        <div id="safe-path" class="tab-content hidden">
            <h3>Safe Path Recommendation</h3>
            <p>Enter or detect your current location and choose a destination</p>
            <button onclick="getCurrentLocation()">Use My Location</button>
            <input type="text" id="route-current-location" placeholder="Current Location">
            <input type="text" id="route-destination" placeholder="Destination">
            <button onclick="processSafePath()">Find Safe Route</button>
            <p id="route-output"></p>

            <div id="map" style="height: 400px; width: 100%;"></div>
            
            <button onclick="emergencyTap()" class="emergency-tap">Emergency Tap</button>
        </div>
        <button onclick="logout()">Logout</button>
    </div>

    <script src="script.js"></script> 
</body>
</html>
